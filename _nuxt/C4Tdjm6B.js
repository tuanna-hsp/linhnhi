import{u as J,m as Q}from"./C3Wxbsnr.js";import{u as ee}from"./25XUcf7z.js";import{l as B,i as te,m as s,B as oe,ag as S,M as C,a1 as ne,C as ae,K as se,I as le,ai as ue,k as ie,y as re,z as ce,b as N,H as ve}from"./XAzQUwQi.js";const Z=Symbol.for("vuetify:layout"),pe=Symbol.for("vuetify:layout-item"),_=1e3,de=B({overlaps:{type:Array,default:()=>[]},fullHeight:Boolean},"layout"),fe=(d,f,c,l)=>{let a={top:0,left:0,right:0,bottom:0};const i=[{id:"",layer:{...a}}];for(const r of d){const m=f.get(r),y=c.get(r),h=l.get(r);if(!m||!y||!h)continue;const x={...a,[m.value]:parseInt(a[m.value],10)+(h.value?parseInt(y.value,10):0)};i.push({id:r,layer:x}),a=x}return i};function me(d){const f=te(Z,null),c=s(()=>f?f.rootZIndex.value-100:_),l=oe([]),a=S(new Map),i=S(new Map),r=S(new Map),m=S(new Map),y=S(new Map),{resizeRef:h,contentRect:x}=ee(),X=s(()=>{const t=new Map,u=d.overlaps??[];for(const e of u.filter(n=>n.includes(":"))){const[n,o]=e.split(":");if(!l.value.includes(n)||!l.value.includes(o))continue;const v=a.get(n),g=a.get(o),$=i.get(n),w=i.get(o);!v||!g||!$||!w||(t.set(o,{position:v.value,amount:parseInt($.value,10)}),t.set(n,{position:g.value,amount:-parseInt(w.value,10)}))}return t}),b=s(()=>{const t=[...new Set([...r.values()].map(e=>e.value))].sort((e,n)=>e-n),u=[];for(const e of t){const n=l.value.filter(o=>{var v;return((v=r.get(o))==null?void 0:v.value)===e});u.push(...n)}return fe(u,a,i,m)}),O=s(()=>!Array.from(y.values()).some(t=>t.value)),I=s(()=>b.value[b.value.length-1].layer),j=s(()=>({"--v-layout-left":C(I.value.left),"--v-layout-right":C(I.value.right),"--v-layout-top":C(I.value.top),"--v-layout-bottom":C(I.value.bottom),...O.value?void 0:{transition:"none"}})),z=s(()=>b.value.slice(1).map((t,u)=>{let{id:e}=t;const{layer:n}=b.value[u],o=i.get(e),v=a.get(e);return{id:e,...n,size:Number(o.value),position:v.value}})),H=t=>z.value.find(u=>u.id===t),L=ne("createLayout"),T=ae(!1);se(()=>{T.value=!0}),le(Z,{register:(t,u)=>{let{id:e,order:n,position:o,layoutSize:v,elementSize:g,active:$,disableTransitions:w,absolute:F}=u;r.set(e,n),a.set(e,o),i.set(e,v),m.set(e,$),w&&y.set(e,w);const k=ue(pe,L==null?void 0:L.vnode).indexOf(t);k>-1?l.value.splice(k,0,e):l.value.push(e);const E=s(()=>z.value.findIndex(R=>R.id===e)),M=s(()=>c.value+b.value.length*2-E.value*2),U=s(()=>{const R=o.value==="left"||o.value==="right",V=o.value==="right",Y=o.value==="bottom",A=g.value??v.value,G=A===0?"%":"px",K={[o.value]:0,zIndex:M.value,transform:`translate${R?"X":"Y"}(${($.value?0:-(A===0?100:A))*(V||Y?-1:1)}${G})`,position:F.value||c.value!==_?"absolute":"fixed",...O.value?void 0:{transition:"none"}};if(!T.value)return K;const p=z.value[E.value];if(!p)throw new Error(`[Vuetify] Could not find layout item "${e}"`);const P=X.value.get(e);return P&&(p[P.position]+=P.amount),{...K,height:R?`calc(100% - ${p.top}px - ${p.bottom}px)`:g.value?`${g.value}px`:void 0,left:V?void 0:`${p.left}px`,right:V?`${p.right}px`:void 0,top:o.value!=="bottom"?`${p.top}px`:void 0,bottom:o.value!=="top"?`${p.bottom}px`:void 0,width:R?g.value?`${g.value}px`:void 0:`calc(100% - ${p.left}px - ${p.right}px)`}}),W=s(()=>({zIndex:M.value-1}));return{layoutItemStyles:U,layoutItemScrimStyles:W,zIndex:M}},unregister:t=>{r.delete(t),a.delete(t),i.delete(t),m.delete(t),y.delete(t),l.value=l.value.filter(u=>u!==t)},mainRect:I,mainStyles:j,getLayoutItem:H,items:z,layoutRect:x,rootZIndex:c});const q=s(()=>["v-layout",{"v-layout--full-height":d.fullHeight}]),D=s(()=>({zIndex:f?c.value:void 0,position:f?"relative":void 0,overflow:f?"hidden":void 0}));return{layoutClasses:q,layoutStyles:D,getLayoutItem:H,items:z,layoutRect:x,layoutRef:h}}const ye=B({...Q(),...de({fullHeight:!0}),...ve()},"VApp"),Ie=ie()({name:"VApp",props:ye(),setup(d,f){let{slots:c}=f;const l=re(d),{layoutClasses:a,getLayoutItem:i,items:r,layoutRef:m}=me(d),{rtlClasses:y}=ce();return J(()=>{var h;return N("div",{ref:m,class:["v-application",l.themeClasses.value,a.value,y.value,d.class],style:[d.style]},[N("div",{class:"v-application__wrap"},[(h=c.default)==null?void 0:h.call(c)])])}),{getLayoutItem:i,items:r,theme:l}}});export{Ie as V};
